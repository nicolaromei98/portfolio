<script>
(()=>{let e="preloader_seen_session",t=document.querySelector(".preloader");if(!t)return;let n=t.querySelector("[data-count]"),o=t.querySelector(".preloader__line"),r=t.querySelector(".line__animate");if(!n||!o||!r)return;if("1"===sessionStorage.getItem(e)){t.style.display="none",t.style.opacity="0";return}t.style.display="flex",t.style.opacity="1";let l=!!window.gsap;l?(gsap.set(r,{scaleX:0,transformOrigin:"left center"}),gsap.set([n,o],{opacity:1})):(r.style.transformOrigin="left center",r.style.transform="scaleX(0)",n.style.opacity="1",o.style.opacity="1");let a=performance.now(),i=0,s=!1,$="loading"!==document.readyState?Promise.resolve():new Promise(e=>document.addEventListener("DOMContentLoaded",e,{once:!0})),y=Array.from(document.images||[]).filter(e=>{let t=e.getBoundingClientRect();return t.top<1.2*window.innerHeight}),c=0,d=Math.max(1,y.length)+1;function p(){c=Math.min(d,c+1)}$.then(()=>p()),y.length&&y.forEach(e=>{if(e.complete&&e.naturalWidth>0)p();else{let t=()=>{p(),e.removeEventListener("load",t),e.removeEventListener("error",t)};e.addEventListener("load",t,{once:!0}),e.addEventListener("error",t,{once:!0})}});let f=setTimeout(()=>p(),550),_=(e,t,n)=>Math.min(n,Math.max(t,e)),m=(e,t,n)=>e+(t-e)*n;function u(){if(s)return;let e=performance.now(),t=e-a,o=c/d*100,$=_(t/350*100,0,100),y=_(Math.max(o,$),0,99.5);i=m(i,y,.12);let p=Math.floor(i);n.textContent=p;let v=p/100;l?gsap.set(r,{scaleX:v}):r.style.transform=`scaleX(${v})`;let h=c>=d;if(h&&t>=350||t>=2200){clearTimeout(f),g();return}requestAnimationFrame(u)}function g(){if(s=!0,n.textContent="100",l){let a=gsap.timeline({defaults:{ease:"power2.out"}});a.to(r,{scaleX:1,duration:.18}).to([o,n],{opacity:0,duration:.28},"+=0.10").to(t,{opacity:0,duration:.45},"<+=0.06").set(t,{display:"none"})}else r.style.transform="scaleX(1)",o.style.transition="opacity 280ms ease",n.style.transition="opacity 280ms ease",t.style.transition="opacity 450ms ease",setTimeout(()=>{o.style.opacity="0",n.style.opacity="0",setTimeout(()=>{t.style.opacity="0",setTimeout(()=>t.style.display="none",470)},120)},120);sessionStorage.setItem(e,"1")}requestAnimationFrame(u)})();
</script>
